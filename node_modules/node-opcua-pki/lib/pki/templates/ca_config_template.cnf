#.........DO NOT MODIFY BY HAND .........................
[ ca ]
default_ca               = CA_default

[ CA_default ]
dir                      = %%ROOT_FOLDER%%            # the main CA folder
certs                    = $dir/certs                 # where to store certificates
new_certs_dir            = $dir/certs                 #
database                 = $dir/index.txt             # the certificate database
serial                   = $dir/serial                # the serial number counter
certificate              = $dir/public/cacert.pem     # The root CA certificate
private_key              = $dir/private/cakey.pem     # the CA private key

x509_extensions          = usr_cert                   #
default_days             = 3650                       # default validity : 10 years

# default_md               = sha1
default_md                = sha256                      # The default digest algorithm

preserve                 = no
policy                   = policy_match

RANDFILE                 = $dir/private/randfile
# default_startdate        = YYMMDDHHMMSSZ
# default_enddate          = YYMMDDHHMMSSZ

crl_dir                  = $dir/crl
crl_extensions           = crl_ext
crl                      = $dir/revocation_list.crl # the Revocation list
crlnumber                = $dir/crlnumber           # CRL number file
default_crl_days         = 30
default_crl_hours        = 24
#msie_hack

[ policy_match ]
countryName              = optional
stateOrProvinceName      = optional
localityName             = optional
organizationName         = optional
organizationalUnitName   = optional
commonName               = optional
emailAddress             = optional

[ req ]
default_bits             = 4096                     # Size of keys
default_keyfile          = key.pem                  # name of generated keys
distinguished_name       = req_distinguished_name
attributes               = req_attributes
x509_extensions          = v3_ca
#input_password
#output_password
string_mask              = nombstr                  # permitted characters
req_extensions           = v3_req

[ req_distinguished_name ]
#0 countryName             = Country Name (2 letter code)
# countryName_default     = FR
# countryName_min         = 2
# countryName_max         = 2
# stateOrProvinceName     = State or Province Name (full name)
# stateOrProvinceName_default = Ile de France
# localityName            = Locality Name (city, district)
# localityName_default    = Paris
organizationName          = Organization Name (company)
organizationName_default  = NodeOPCUA
# organizationalUnitName  = Organizational Unit Name (department, division)
# organizationalUnitName_default = R&D
commonName                = Common Name (hostname, FQDN, IP, or your name)
commonName_max            = 64
commonName_default        = NodeOPCUA
# emailAddress            = Email Address
# emailAddress_max        = 40
# emailAddress_default    = node-opcua (at) node-opcua (dot) com

[ req_attributes ]
#challengePassword        = A challenge password
#challengePassword_min    = 4
#challengePassword_max    = 20
#unstructuredName         = An optional company name

[ usr_cert ]
basicConstraints          = critical, CA:FALSE
subjectKeyIdentifier      = hash
authorityKeyIdentifier    = keyid,issuer:always
#authorityKeyIdentifier    = keyid
subjectAltName            = $ENV::ALTNAME
# issuerAltName            = issuer:copy
nsComment                 = ''OpenSSL Generated Certificate''
#nsCertType               = client, email, objsign for ''everything including object signing''
#nsCaRevocationUrl        = http://www.domain.dom/ca-crl.pem
#nsBaseUrl                =
#nsRenewalUrl             =
#nsCaPolicyUrl            =
#nsSslServerName          =
keyUsage                  = critical, digitalSignature, nonRepudiation, keyEncipherment, dataEncipherment, keyAgreement, keyCertSign
extendedKeyUsage          = critical,serverAuth ,clientAuth

[ v3_req ]
basicConstraints          = critical, CA:FALSE
keyUsage                  = nonRepudiation, digitalSignature, keyEncipherment, dataEncipherment, keyAgreement
subjectAltName            = $ENV::ALTNAME
nsComment                 = "CA Generated by Node-OPCUA Certificate utility using openssl"


[ v3_ca ]
subjectKeyIdentifier      = hash
authorityKeyIdentifier    = keyid:always,issuer:always
# authorityKeyIdentifier    = keyid
basicConstraints          = CA:TRUE
keyUsage                  = critical, cRLSign, keyCertSign
nsComment                 = "CA Certificate generated by Node-OPCUA Certificate utility using openssl"
#nsCertType                 = sslCA, emailCA
#subjectAltName             = email:copy
#issuerAltName              = issuer:copy
#obj                        = DER:02:03
crlDistributionPoints     = @crl_info

[ crl_info ]
URI.0                     = http://localhost:8900/crl.pem

[ v3_selfsigned]
basicConstraints          = critical, CA:FALSE
keyUsage                  = nonRepudiation, digitalSignature, keyEncipherment, dataEncipherment, keyAgreement
nsComment                 = "Self-signed certificate"
subjectAltName            = $ENV::ALTNAME

[ crl_ext ]
#issuerAltName            = issuer:copy
authorityKeyIdentifier    = keyid:always,issuer:always
#authorityInfoAccess       = @issuer_info

